const vision = require('@google-cloud/vision');

export default async function (req, res) {

  console.log(req.body)
  // const base64String = req.body.imageData
  const EAT = "data:image/png;base64,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"
  const base64String = EAT
  const base64Image = base64String.split(';base64,').pop();
  const decodedImageBuffer = Buffer.from(base64Image, 'base64');

  try {
    const client = new vision.ImageAnnotatorClient();
    const [result] = await client.textDetection(decodedImageBuffer);
    const textAnnotations = result.textAnnotations;
    if(!textAnnotations.length) console.log("Empty response")
    textAnnotations.forEach(t => {
      // console.log(t.boundingPoly.vertices)
      console.log(t.description)
    });
    res.status(200).json(textAnnotations.map(t=>t.description));
  } catch (err) {
    console.error('Error gcp ocr image:', err);
    return res.status(500).json(err);
  }

}//default func
